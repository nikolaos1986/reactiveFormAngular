<form [formGroup]="personForm" (ngSubmit)="save()">
  <input
    [ngClass]="{
      invalid:
        (personForm.get('fName').touched || personForm.get('fName').dirty) &&
        personForm.get('fName').errors?.required
    }"
    formControlName="fName"
    type="text"
    onkeypress="return event.charCode >= 97 && event.charCode <= 122"
  />
  <span *ngIf="personForm.get('fName').errors?.required">enter your name</span>
  <span *ngIf="personForm.get('fName').errors?.minlength"
    >the length must be ...</span
  >

  <input
    formControlName="age"
    type="number"
    onkeypress="return event.charCode >= 49 && event.charCode <= 57"
  />
  <!-- add email as required -->
  <button (click)="makeemailRequired()">email is required</button>
  <!-- formGroupName -->
  <div class="email" formGroupName="emailGroup">
    <input
      formControlName="email"
      type="email"
      [ngClass]="{ invalid: emailMessage }"
    />
    <span>{{ emailMessage }}</span>
    <!-- <span *ngIf="personForm.get('emailGroup.email').errors?.email"
      >enter valid email
    </span> -->
    <input formControlName="confirmEmail" type="email" />
    <div>
      <span *ngIf="personForm.get('emailGroup').errors?.match">
        The confirmation does not match the email address.
      </span>
    </div>
  </div>
  <div>
    <span
      >phone <input formControlName="notification" value="phone" type="radio"
    /></span>
    <span
      >email <input formControlName="notification" value="email" type="radio"
    /></span>
  </div>

  <hr />
  <span>
    sendme notification to home
    <input formControlName="sendCatalog" type="checkbox" />
  </span>
  <hr />
  <div *ngIf="personForm.get('sendCatalog').value">
    <div
      formArrayName="addresses"
      *ngFor="let address of addresses.controls; let i = index"
    >
      <div [formGroupName]="i">
        <span
          >addres 1
          <input
            formControlName="adress1"
            id="{{ 'street1Id' + i }}"
            type="text"
          />
        </span>
        <span>addres 2 <input formControlName="adress2" type="text" /> </span>
      </div>
     
    </div>
     <button type="button" (click)="addaddresses()">add address</button>
  </div>

  <button class="submt" [disabled]="personForm.invalid" type="submit">
    submit
  </button>
</form>
